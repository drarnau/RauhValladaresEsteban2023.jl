<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Internal · RauhValladaresEsteban2023.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">RauhValladaresEsteban2023.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../model/">Model</a></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../public/">Public</a></li><li class="is-active"><a class="tocitem" href>Internal</a><ul class="internal"><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#Internals-Interface"><span>Internals Interface</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li class="is-active"><a href>Internal</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Internal</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/master/docs/src/lib/internals.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Internals-Documentation"><a class="docs-heading-anchor" href="#Internals-Documentation">Internals Documentation</a><a id="Internals-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Internals-Documentation" title="Permalink"></a></h1><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#RauhValladaresEsteban2023.AgeData"><code>RauhValladaresEsteban2023.AgeData</code></a></li><li><a href="#RauhValladaresEsteban2023.MicroData"><code>RauhValladaresEsteban2023.MicroData</code></a></li><li><a href="#RauhValladaresEsteban2023.ModelParameters"><code>RauhValladaresEsteban2023.ModelParameters</code></a></li><li><a href="#RauhValladaresEsteban2023.aggregatemeans-Tuple{Vector{RauhValladaresEsteban2023.MicroData}, Vector{Float64}}"><code>RauhValladaresEsteban2023.aggregatemeans</code></a></li><li><a href="#RauhValladaresEsteban2023.fh′-Tuple{Float64, Float64, Float64, RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.fh′</code></a></li><li><a href="#RauhValladaresEsteban2023.findn-Tuple{Float64, Float64, Float64, Any, RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.findn</code></a></li><li><a href="#RauhValladaresEsteban2023.fuᴴ-Tuple{Float64, Float64, Int64, RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.fuᴴ</code></a></li><li><a href="#RauhValladaresEsteban2023.fuᵂ-Tuple{Float64, Float64, RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.fuᵂ</code></a></li><li><a href="#RauhValladaresEsteban2023.gss"><code>RauhValladaresEsteban2023.gss</code></a></li><li><a href="#RauhValladaresEsteban2023.loadCSVinput-Tuple{String, String}"><code>RauhValladaresEsteban2023.loadCSVinput</code></a></li><li><a href="#RauhValladaresEsteban2023.loaddeciledata"><code>RauhValladaresEsteban2023.loaddeciledata</code></a></li><li><a href="#RauhValladaresEsteban2023.micro2aggregate-Tuple{Any, RauhValladaresEsteban2023.MicroData}"><code>RauhValladaresEsteban2023.micro2aggregate</code></a></li><li><a href="#RauhValladaresEsteban2023.policyfunction-Tuple{Int64, RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.policyfunction</code></a></li><li><a href="#RauhValladaresEsteban2023.raw2micro-Tuple{RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.raw2micro</code></a></li><li><a href="#RauhValladaresEsteban2023.simulate"><code>RauhValladaresEsteban2023.simulate</code></a></li><li><a href="#RauhValladaresEsteban2023.simulateindices-Tuple{QuantEcon.MarkovChain, Int64, Int64}"><code>RauhValladaresEsteban2023.simulateindices</code></a></li><li><a href="#RauhValladaresEsteban2023.simulateraw-Tuple{Int64, Matrix{Int64}, Vector{Matrix{Float64}}, RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.simulateraw</code></a></li><li><a href="#RauhValladaresEsteban2023.statsf-Tuple{Any, Matrix}"><code>RauhValladaresEsteban2023.statsf</code></a></li><li><a href="#RauhValladaresEsteban2023.statsf-Tuple{Any, Matrix, Matrix}"><code>RauhValladaresEsteban2023.statsf</code></a></li></ul><h2 id="Internals-Interface"><a class="docs-heading-anchor" href="#Internals-Interface">Internals Interface</a><a id="Internals-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Internals-Interface" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.aggregatemeans-Tuple{Vector{RauhValladaresEsteban2023.MicroData}, Vector{Float64}}" href="#RauhValladaresEsteban2023.aggregatemeans-Tuple{Vector{RauhValladaresEsteban2023.MicroData}, Vector{Float64}}"><code>RauhValladaresEsteban2023.aggregatemeans</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">aggregatemeans(v::Vector{MicroData}, w::Vector{Float64})</code></pre><p>Computes aggregate means from the vector of <code>MicroData</code> instances <code>v</code> using weights <code>w</code>. Returns an <code>AggregateData</code> instance.</p><p><strong>Arguments</strong></p><ul><li><code>v::Vector{MicroData}</code>: A vector of <code>MicroData</code> instances containing agent/individual-level data.</li><li><code>w::Vector{Float64}</code>: A vector of weights. The length of <code>w</code> must be equal to the length of <code>v</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/data.jl#L452-L460">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.fh′-Tuple{Float64, Float64, Float64, RauhValladaresEsteban2023.ModelParameters}" href="#RauhValladaresEsteban2023.fh′-Tuple{Float64, Float64, Float64, RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.fh′</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fh′(h::Float64, a::Float64, n::Float64, p::ModelParameters)::Float64</code></pre><p>Returns the value of human capital in the next period.</p><p><strong>Arguments</strong></p><ul><li><code>h::Float64</code>: Human capital in the current period.</li><li><code>a::Float64</code>: Ability to acumulate human capital.</li><li><code>n::Float64</code>: Hours worked.</li><li><code>p::ModelParameters</code>: Instance of <code>ModelParameters</code> containing parameter values ϕ and δ.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/auxiliaryfunctions.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.findn-Tuple{Float64, Float64, Float64, Any, RauhValladaresEsteban2023.ModelParameters}" href="#RauhValladaresEsteban2023.findn-Tuple{Float64, Float64, Float64, Any, RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.findn</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">findn(h::Float64, a::Float64, uᴴ::Float64, fV′, p::ModelParameters)</code></pre><p>Returns the optimal hours worked and the utility value associated to the optimal hours.</p><p><strong>Arguments</strong></p><ul><li><code>h::Float64</code>: Human capital.</li><li><code>a::Float64</code>: Ability to accumulate human capital.</li><li><code>uᴴ::Float64</code>: Utility of staying at home.</li><li><code>fV′</code>: Function computing the continuation value of the next period with respect to hours worked in the current period.</li><li><code>p::ModelParameters</code>: Instance of <code>ModelParameters</code> containing parameter values β.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/policyfunction.jl#L32-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.fuᴴ-Tuple{Float64, Float64, Int64, RauhValladaresEsteban2023.ModelParameters}" href="#RauhValladaresEsteban2023.fuᴴ-Tuple{Float64, Float64, Int64, RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.fuᴴ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fuᴴ(h::Float64, κ::Float64, j::Int64, p::ModelParameters)::Float64</code></pre><p>Returns the utility value of staying at come.</p><p><strong>Arguments</strong></p><ul><li><code>h::Float64</code>: Human capital.</li><li><code>κ::Float64</code>: Realisation of the stay-at-home value shock.</li><li><code>j::Int64</code>: Age.</li><li><code>p::ModelParameters</code>: Instance of <code>ModelParameters</code> containing parameter values ψ, γ, η, κ₀, κ₁, and κ₂.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/auxiliaryfunctions.jl#L21-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.fuᵂ-Tuple{Float64, Float64, RauhValladaresEsteban2023.ModelParameters}" href="#RauhValladaresEsteban2023.fuᵂ-Tuple{Float64, Float64, RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.fuᵂ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fuᵂ(h::Float64, n::Float64, p::ModelParameters)::Float64</code></pre><p>Returns the utility value of working.</p><p><strong>Arguments</strong></p><ul><li><code>h::Float64</code>: Human capital.</li><li><code>n::Float64</code>: Hours worked.</li><li><code>p::ModelParameters</code>: Instance of <code>ModelParameters</code> containing parameter values ω, γ, and ψ.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/auxiliaryfunctions.jl#L38-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.gss" href="#RauhValladaresEsteban2023.gss"><code>RauhValladaresEsteban2023.gss</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">gss(f::Function, a::Float64, b::Float64, tol::Float64 = 1e-6)</code></pre><p>Returns argument that maximises value of function <code>f</code> over the interval [a,b] and value of function <code>f</code> at the maximising point using the Golden search method.</p><p><strong>Arguments</strong>:</p><ul><li><code>f</code>: Univariate function.</li><li><code>a</code>: Lower bound.</li><li><code>b</code>: Upper bound.</li><li><code>tol</code>: Tolerance of the stopping.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/policyfunction.jl#L4-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.loadCSVinput-Tuple{String, String}" href="#RauhValladaresEsteban2023.loadCSVinput-Tuple{String, String}"><code>RauhValladaresEsteban2023.loadCSVinput</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">loadCSVinput(inputname::String, group::String)</code></pre><p>Loads data from a CSV file located in the <code>model_inputs</code> folder and returns a DataFrame containing data specific to the provided <code>group</code>.</p><p><strong>Arguments</strong></p><ul><li><code>inputname::String</code>: The relative path to the CSV file, including the file name. For example, <code>model_inputs/parameters.csv</code>.</li><li><code>group::String</code>: The name of the column in the CSV file that contains the group information. For example: <code>Black</code>.</li></ul><p><strong>Notes</strong></p><ul><li>The function assumes that the CSV file has a header row containing column names.</li><li>The <code>group</code> column in the loaded DataFrame is converted to lowercase for consistent matching.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/modelparameters.jl#L159-L171">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.loaddeciledata" href="#RauhValladaresEsteban2023.loaddeciledata"><code>RauhValladaresEsteban2023.loaddeciledata</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">loaddeciledata(filename::String, group::String = &quot;&quot;)</code></pre><p>Loads decile data from a predefined CSV file and returns it as a <code>MicroData</code> structure.</p><p><strong>Arguments</strong></p><ul><li><code>filename::String</code>: The path to the CSV file containing the decile data. Example: <code>nlsydata/afqt_decile_1.csv</code>.</li><li><code>group::String</code>: (optional) The group to which the data should be restricted. Valid values are &quot;Black&quot;, &quot;White&quot;, or an empty string (default).</li></ul><p><strong>Returns</strong></p><p>A <code>MicroData</code> instance containing the loaded decile data.</p><p><strong>Notes</strong></p><ul><li>The CSV file is expected to have the following columns: &quot;wage&quot;, &quot;hours&quot;, &quot;employed&quot;, and &quot;weights&quot; (or columns that contain these strings as substrings).</li><li>If <code>group</code> is specified, the data will be restricted to the specified group (&quot;Black&quot; or &quot;White&quot;) based on the values in the &quot;black&quot; column.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">data = loaddeciledata(&quot;nlsydata/afqt_decile_1.csv&quot;)  # Load all decile data
data = loaddeciledata(&quot;nlsydata/afqt_decile_1.csv&quot;, &quot;black&quot;)  # Load decile data for the black group only</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/data.jl#L89-L110">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.micro2aggregate-Tuple{Any, RauhValladaresEsteban2023.MicroData}" href="#RauhValladaresEsteban2023.micro2aggregate-Tuple{Any, RauhValladaresEsteban2023.MicroData}"><code>RauhValladaresEsteban2023.micro2aggregate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">micro2aggregate(f, d::MicroData)</code></pre><p>Computes aggregate statistics from the <code>MicroData</code> instance <code>d</code> using the specified statistical function <code>f</code>. The function computes aggregate statistics for wage, hours, employment, total income (all individuals), and income (employed individuals).</p><p><strong>Arguments</strong></p><ul><li><code>f</code>: A function that computes the desired aggregate statistic.</li><li><code>d::MicroData</code>: A <code>MicroData</code> instance containing agent/individual-level data.</li></ul><p><strong>Note</strong></p><ul><li>The function handles missing values by replacing them with zeros for the total income variable.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/data.jl#L426-L437">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.policyfunction-Tuple{Int64, RauhValladaresEsteban2023.ModelParameters}" href="#RauhValladaresEsteban2023.policyfunction-Tuple{Int64, RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.policyfunction</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">policyfunction(ia::Int64, p::ModelParameters)</code></pre><p>Returns the policy function for optimal labor supply decisions.</p><p><strong>Arguments</strong></p><ul><li><code>ia::Int64</code>: Index of the ability to accumulate human capital.</li><li><code>p::ModelParameters</code>: Instance of <code>ModelParameters</code> containing relevant model parameters.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/policyfunction.jl#L56-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.raw2micro-Tuple{RauhValladaresEsteban2023.ModelParameters}" href="#RauhValladaresEsteban2023.raw2micro-Tuple{RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.raw2micro</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">raw2micro(p::ModelParameters; hours::Matrix{Float64}, hk::Matrix{Float64}, empsample::Bool = true)</code></pre><p>Converts simulation results of hours worked and human capital to MicroData format optionally applying constraints that allow comparison to NLSY data.</p><p><strong>Arguments</strong></p><ul><li><code>p::ModelParameters</code>: Instance of <code>ModelParameters</code> containing relevant parameter values.</li><li><code>hours::Matrix{Float64}</code>: Matrix of simulated hours worked.</li><li><code>hk::Matrix{Float64}</code>: Matrix of simulated human capital.</li><li><code>empsample::Bool = true</code>: (Optional) Flag indicating whether to use treshold to allocate employment indicator.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/montecarlo.jl#L142-L152">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.simulate" href="#RauhValladaresEsteban2023.simulate"><code>RauhValladaresEsteban2023.simulate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">simulate(ia::Int64, iκs::Matrix{Int64}, n::Vector{Matrix{Float64}}, p::ModelParameters, empsample::Bool = true)</code></pre><p>Returns <code>MicroData</code> instance after simulating economy based on the realisations of the staying-at-home shock (<code>iκs</code>) and the policy function (<code>n</code>) for one level of ability to accumulate human capital.</p><p><strong>Arguments</strong></p><ul><li><code>ia::Int64</code>: Index of the ability to accumulate human capital.</li><li><code>iκs::Matrix{Int64}</code>: Matrix of the indices of realisations of the staying-at-home shock.</li><li><code>n::Vector{Matrix{Float64}}</code>: Policy function for hours worked.</li><li><code>p::ModelParameters</code>: Instance of <code>ModelParameters</code> containing relevant parameter values.</li><li><code>empsample::Bool = true</code>: Flag indicating whether to use treshold to allocate employment indicator.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/montecarlo.jl#L172-L183">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.simulateindices-Tuple{QuantEcon.MarkovChain, Int64, Int64}" href="#RauhValladaresEsteban2023.simulateindices-Tuple{QuantEcon.MarkovChain, Int64, Int64}"><code>RauhValladaresEsteban2023.simulateindices</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulateindices(MC::MarkovChain, nagents::Int64, nperiods::Int64; t₀::Int64 = 100)::Matrix{Int64}</code></pre><p>Simulates indices for a given number of agents and periods using a Markov chain.</p><p><strong>Arguments</strong></p><ul><li><code>MC::MarkovChain</code>: <code>MarkovChain</code> instance.</li><li><code>nagents::Int64</code>: Number of agents.</li><li><code>nperiods::Int64</code>: Number of periods to simulate.</li><li><code>t₀::Int64 (optional)</code>: Amount of periods ignored when returning simulation (default: 100).</li></ul><p><strong>Note</strong></p><ul><li>The final matrix of simulated indices is returned, starting from period <code>t₀ + 1</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/montecarlo.jl#L70-L83">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.simulateraw-Tuple{Int64, Matrix{Int64}, Vector{Matrix{Float64}}, RauhValladaresEsteban2023.ModelParameters}" href="#RauhValladaresEsteban2023.simulateraw-Tuple{Int64, Matrix{Int64}, Vector{Matrix{Float64}}, RauhValladaresEsteban2023.ModelParameters}"><code>RauhValladaresEsteban2023.simulateraw</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simulateraw(ia::Int64, iκs::Matrix{Int64}, n::Vector{Matrix{Float64}}, p::ModelParameters)</code></pre><p>Simulates hours worked and human capital based on realisations of the staying-at-home shock (<code>iκs</code>) and the policy function (<code>n</code>) for one level of ability to accumulate human capital.</p><p><strong>Arguments</strong></p><ul><li><code>ia::Int64</code>: Index of the ability to accumulate human capital.</li><li><code>iκs::Matrix{Int64}</code>: Matrix of the indices of realisations of the staying-at-home shock.</li><li><code>n::Vector{Matrix{Float64}}</code>: Policy function for hours worked.</li><li><code>p::ModelParameters</code>: Instance of <code>ModelParameters</code> containing model relevant parameter values.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/montecarlo.jl#L96-L106">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.statsf-Tuple{Any, Matrix, Matrix}" href="#RauhValladaresEsteban2023.statsf-Tuple{Any, Matrix, Matrix}"><code>RauhValladaresEsteban2023.statsf</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">statsf(f, y::Matrix, w::Matrix)</code></pre><p>Applies the statistical function <code>f</code> to a matrix <code>y</code> weighted by corresponding elements in the matrix <code>w</code>, after skipping missing values.</p><p><strong>Arguments</strong></p><ul><li><code>f</code>: A statistical function to apply to the matrix <code>y</code> weighted by <code>w</code>.</li><li><code>y::Matrix</code>: A matrix containing the data for which the statistic will be calculated.</li><li><code>w::Matrix</code>: A matrix containing the weights to be applied to each element of <code>y</code>. The size of <code>w</code> should match the size of <code>y</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/data.jl#L314-L323">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.statsf-Tuple{Any, Matrix}" href="#RauhValladaresEsteban2023.statsf-Tuple{Any, Matrix}"><code>RauhValladaresEsteban2023.statsf</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">statsf(f, y::Matrix)</code></pre><p>Applies the statistical function <code>f</code> to the matrix <code>y</code>, skipping missing values.</p><p><strong>Arguments</strong></p><ul><li><code>f</code>: A statistical function to apply to the matrix <code>y</code>.</li><li><code>y::Matrix</code>: A matrix containing the data for which the statistic will be calculated.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/data.jl#L271-L279">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.AgeData" href="#RauhValladaresEsteban2023.AgeData"><code>RauhValladaresEsteban2023.AgeData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>AgeData</p><p>A composite type that represents a summary statistic by age for hourly wages, hours worked, and employment status. For example, average wages by age.</p><p><strong>Fields</strong></p><ul><li><code>wage::Vector{Float64}</code>: Hourly wage.</li><li><code>hours::Vector{Float64}</code>: Hours worked.</li><li><code>employed::Vector{Float64}</code>: Employment status.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/data.jl#L39-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.MicroData" href="#RauhValladaresEsteban2023.MicroData"><code>RauhValladaresEsteban2023.MicroData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>MicroData</p><p>A composite type that represents individual-level data on wages, hours worked, employment status, and individual population weights. Each row corresponds to an agent/individual, and each column represents a period.</p><p><strong>Fields</strong></p><ul><li><code>wage::Matrix{Union{Missing, Float64}}</code>: Hourly wage.</li><li><code>hours::Matrix{Union{Missing, Float64}}</code>: Hours worked.</li><li><code>employed::Matrix{Union{Missing, Bool}}</code>: Employment indicator.</li><li><code>weights::Matrix{Union{Missing, Int64}}</code>: Individual frequency weights.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/data.jl#L5-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RauhValladaresEsteban2023.ModelParameters" href="#RauhValladaresEsteban2023.ModelParameters"><code>RauhValladaresEsteban2023.ModelParameters</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ModelParameters</code></pre><p>Composite type that contains all the parameters that describe a model economy.</p><p><strong>Fields</strong></p><p><strong>Prices</strong></p><ul><li><code>r::Float64</code>: Interest rate.</li><li><code>ω::Float64</code>: Wage rate.</li></ul><p><strong>Human capital function parameters</strong></p><ul><li><code>ϕ::Float64</code>: Curvature with respect to hours worked.</li><li><code>δ::Float64</code>: Depreciation.</li></ul><p><strong>Preferences</strong></p><ul><li><code>β::Float64</code>: Discount rate.</li><li><code>ψ::Float64</code>: Weight of leisure in utility function.</li><li><code>γ::Float64</code>: Curvature of leisure in utility function.</li><li><code>κ₀::Float64</code>: Intercept value staying at home.</li><li><code>κ₁::Float64</code>: Slope value staying at home.</li><li><code>κ₂::Float64</code>: Curvature value staying at home.</li><li><code>η::Float64</code>: Curvature of human capital in value staying at home.</li><li><code>ρ_κ::Float64</code>: Persistance value staying at home.</li><li><code>σ_κ::Float64</code>: Standard deviation value staying at home.</li></ul><p><strong>Model size</strong></p><ul><li><code>gp_h::Int64</code>: Grid points human capital policy funtion.</li><li><code>gp_κ::Int64</code>. Grid points value staying at home.</li><li><code>J::Int64</code>: Number of periods.</li><li><code>nagents::Int64</code>: Number of agents in Monte Carlo per ability level.</li><li><code>nlevels::Int64</code>: umber of ability levels.</li></ul><p><strong>Grids &amp; Markov Chains</strong></p><ul><li><code>grid_a::Vector{Float64}</code>: Grid ability.</li><li><code>grid_h₁::Vector{Float64}</code>: Grid initial human capital.</li><li><code>grids_h::Array{Vector{Float64}, 2}</code>: Array of grids of human capital.</li><li><code>grid_κ::Vector{Float64}</code>: Grid stochastic value staying at home.</li><li><code>MCκ::MarkovChain</code>: Markov Chain utility staying at home.</li><li><code>P_κ::Array{Float64,2}</code>: Transition probabilities utility staying at home.</li></ul><p><strong>Conversion/comparison to real data</strong></p><ul><li><code>popshare::Vector{Float64}</code>: Population shares; weight of each AFQT decile.</li><li><code>lbhours::Float64</code>: Lower bound hours worked for being employed.</li><li><code>initialage::Int64</code>: Real age at model/data entry.</li><li><code>agerange::UnitRange{Int64}</code>: Range of ages in model/data.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/drarnau/RauhValladaresEsteban2023.jl/blob/7b46c296ec0e41c09ff19a428a74004a0d1c6140/src/modelparameters.jl#L5-L50">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../public/">« Public</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Wednesday 17 May 2023 10:10">Wednesday 17 May 2023</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
